#! /bin/bash

currentDir=$(pwd)
javaDir0=$(which java)
javaDir="${javaDir0%%java}"
cd $javaDir
cd ..
export JAVA_ROOT123=$(pwd)
cd $currentDir
cd JavaBDD
make
mv javabdd-2.0.jar ..
mv libcudd.so ..

cd ..
cd ground_src
export GROUND_TOPDIR=$(pwd)
make
mv ground ../ground_exec

cd ..
cd gamer/src
javac -classpath ../../javabdd-2.0.jar pddl2bdd/PDDL2BDD.java pddl2bdd/parser/*.java pddl2bdd/parser/util/*.java pddl2bdd/pddl2bdd/*.java pddl2bdd/util/*.java
jar cvf gamer.jar pddl2bdd
rm pddl2bdd/PDDL2BDD.class
rm pddl2bdd/parser/*.class
rm pddl2bdd/parser/util/*.class
rm pddl2bdd/pddl2bdd/*.class
rm pddl2bdd/util/*.class
mv gamer.jar ../..
